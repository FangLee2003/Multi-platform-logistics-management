To honour the JVM settings for this build a single-use Daemon process will be forked. For more on this, please refer to https://docs.gradle.org/8.14.3/userguide/gradle_daemon.html#sec:disabling_the_daemon in the Gradle documentation.
Daemon will be stopped at the end of the build 
> Task :compileJava UP-TO-DATE
> Task :processResources UP-TO-DATE
> Task :classes UP-TO-DATE
> Task :resolveMainClassName

> Task :bootRun

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.4)

2026-01-03T19:19:16.260+07:00  INFO 66626 --- [spring-project] [  restartedMain] k.s.SpringProjectApplication             : Starting SpringProjectApplication using Java 21.0.7 with PID 66626 (/Users/mac/Documents/GitHub/QNN1/Multi-platform-logistics-management/spring-project/build/classes/java/main started by mac in /Users/mac/Documents/GitHub/QNN1/Multi-platform-logistics-management/spring-project)
2026-01-03T19:19:16.261+07:00  INFO 66626 --- [spring-project] [  restartedMain] k.s.SpringProjectApplication             : No active profile set, falling back to 1 default profile: "default"
2026-01-03T19:19:16.280+07:00  INFO 66626 --- [spring-project] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-03T19:19:16.281+07:00  INFO 66626 --- [spring-project] [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-03T19:19:16.692+07:00  INFO 66626 --- [spring-project] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-03T19:19:16.752+07:00  INFO 66626 --- [spring-project] [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 25 JPA repository interfaces.
2026-01-03T19:19:17.066+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-03T19:19:17.073+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-03T19:19:17.073+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-03T19:19:17.093+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-03T19:19:17.094+07:00  INFO 66626 --- [spring-project] [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 812 ms
2026-01-03T19:19:17.184+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-03T19:19:17.205+07:00  INFO 66626 --- [spring-project] [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2026-01-03T19:19:17.219+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-03T19:19:17.339+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-03T19:19:17.353+07:00  INFO 66626 --- [spring-project] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-03T19:19:17.439+07:00  INFO 66626 --- [spring-project] [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@200aa7bf
2026-01-03T19:19:17.440+07:00  INFO 66626 --- [spring-project] [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-03T19:19:17.460+07:00  WARN 66626 --- [spring-project] [  restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-03T19:19:17.460+07:00  WARN 66626 --- [spring-project] [  restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2026-01-03T19:19:17.468+07:00  INFO 66626 --- [spring-project] [  restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-03T19:19:18.190+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-03T19:19:18.192+07:00  INFO 66626 --- [spring-project] [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-03T19:19:18.316+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-03T19:19:18.737+07:00 DEBUG 66626 --- [spring-project] [  restartedMain] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2026-01-03T19:19:19.243+07:00  INFO 66626 --- [spring-project] [  restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2026-01-03T19:19:19.244+07:00  WARN 66626 --- [spring-project] [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2026-01-03T19:19:20.476+07:00  WARN 66626 --- [spring-project] [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-03T19:19:20.604+07:00 DEBUG 66626 --- [spring-project] [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 310 mappings in 'requestMappingHandlerMapping'
2026-01-03T19:19:20.691+07:00 DEBUG 66626 --- [spring-project] [  restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-03T19:19:21.052+07:00 DEBUG 66626 --- [spring-project] [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-03T19:19:21.090+07:00 DEBUG 66626 --- [spring-project] [  restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-03T19:19:21.227+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2026-01-03T19:19:21.250+07:00  INFO 66626 --- [spring-project] [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-03T19:19:21.257+07:00  INFO 66626 --- [spring-project] [  restartedMain] k.s.SpringProjectApplication             : Started SpringProjectApplication in 5.164 seconds (process running for 5.334)
2026-01-03T19:19:44.823+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-03T19:19:44.823+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-03T19:19:44.823+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-03T19:19:44.823+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-03T19:19:44.823+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-03T19:19:44.824+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@792c4968
2026-01-03T19:19:44.824+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@10ff206c
2026-01-03T19:19:44.825+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-03T19:19:44.825+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2026-01-03T19:19:44.840+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/overview", parameters={}
2026-01-03T19:19:44.841+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getOverview()
2026-01-03T19:19:44.849+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-1] k.s.services.AnalyticsService            : üìä Calculating analytics overview stats...
Hibernate: SELECT COALESCE(SUM(r.estimated_distance_km), 0)
FROM deliveries d
JOIN routes r ON d.route_id = r.id
WHERE r.estimated_distance_km IS NOT NULL AND r.estimated_distance_km > 0

Hibernate: select count(*) from deliveries d1_0
Hibernate: SELECT COALESCE(SUM(shipping_cost), 0.0)
FROM deliveries
WHERE shipping_cost IS NOT NULL AND shipping_cost > 0

2026-01-03T19:19:45.248+07:00  WARN 66626 --- [spring-project] [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22
2026-01-03T19:19:45.248+07:00 ERROR 66626 --- [spring-project] [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'shipping_cost' in 'field list'
2026-01-03T19:19:45.250+07:00  WARN 66626 --- [spring-project] [nio-8080-exec-1] k.s.services.AnalyticsService            : ‚ö†Ô∏è Could not calculate total shipping cost, using default: JDBC exception executing SQL [SELECT COALESCE(SUM(shipping_cost), 0.0)
FROM deliveries
WHERE shipping_cost IS NOT NULL AND shipping_cost > 0
] [Unknown column 'shipping_cost' in 'field list'] [n/a]; SQL [n/a]
2026-01-03T19:19:45.250+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-1] k.s.services.AnalyticsService            : ‚úÖ Overview stats calculated: 46053 deliveries, 25.0 km
2026-01-03T19:19:45.259+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:19:45.259+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalDeliveries=46053, avgCostPerKm=12500.0, totalDistance=25.0, efficiencyScore=0.0}]
2026-01-03T19:19:45.277+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:19:45.286+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/feature-importance", parameters={}
2026-01-03T19:19:45.286+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getFeatureImportance()
2026-01-03T19:19:45.286+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-2] k.s.services.AnalyticsService            : üìä Fetching feature importance data...
Hibernate: SELECT
    'National Inventory' as feature,
    0.45 as importance,
    'Current stock level at national warehouse' as description
UNION ALL SELECT 'Lead Time', 0.38, 'Days required to replenish inventory'
UNION ALL SELECT 'In Transit Quantity', 0.32, 'Stock currently in transit'
UNION ALL SELECT 'Sales Forecast (3M)', 0.28, '3-month sales forecast'
UNION ALL SELECT 'Sales Forecast (6M)', 0.25, '6-month sales forecast'
UNION ALL SELECT 'Historical Sales (3M)', 0.23, 'Sales in past 3 months'
UNION ALL SELECT 'Historical Sales (6M)', 0.21, 'Sales in past 6 months'
UNION ALL SELECT 'Historical Sales (9M)', 0.19, 'Sales in past 9 months'
UNION ALL SELECT 'Min Bank', 0.17, 'Minimum stock level to maintain'
UNION ALL SELECT 'Pieces Past Due', 0.15, 'Quantity of overdue orders'
UNION ALL SELECT 'Performance (6M Avg)', 0.13, '6-month average performance'
UNION ALL SELECT 'Performance (12M Avg)', 0.11, '12-month average performance'
UNION ALL SELECT 'Local Backorder Qty', 0.09, 'Local backorder quantity'
UNION ALL SELECT 'Potential Issue Flag', 0.07, 'Indicates potential supply issues'
UNION ALL SELECT 'Deck Risk', 0.05, 'Risk level of deck availability'
ORDER BY importance DESC

2026-01-03T19:19:45.292+07:00 ERROR 66626 --- [spring-project] [nio-8080-exec-2] k.s.services.AnalyticsService            : ‚ùå Error fetching feature importance

java.lang.UnsupportedOperationException: A TupleBackedMap cannot be modified
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap.put(AbstractJpaQuery.java:545) ~[spring-data-jpa-3.5.2.jar:3.5.2]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap.put(AbstractJpaQuery.java:1) ~[spring-data-jpa-3.5.2.jar:3.5.2]
	at ktc.spring_project.services.AnalyticsService.lambda$getFeatureImportance$0(AnalyticsService.java:162) ~[main/:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at ktc.spring_project.services.AnalyticsService.getFeatureImportance(AnalyticsService.java:165) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.9.jar:6.2.9]
	at ktc.spring_project.services.AnalyticsService$$SpringCGLIB$$0.getFeatureImportance(<generated>) ~[main/:na]
	at ktc.spring_project.controllers.AnalyticsController.getFeatureImportance(AnalyticsController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.43.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.43.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at ktc.spring_project.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:85) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2026-01-03T19:19:45.297+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:19:45.297+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[{feature=Distance, featureName=Distance (km), insights=[Longer distances correlate with delivery de (truncated)...]
2026-01-03T19:19:45.299+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:19:45.310+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/correlation", parameters={}
2026-01-03T19:19:45.311+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getCorrelation()
2026-01-03T19:19:45.311+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-4] k.s.services.AnalyticsService            : üìä Fetching correlation analysis data...
Hibernate: SELECT
    potential_issue as category,
    COUNT(*) as count,
    SUM(CASE WHEN went_on_backorder = 'Yes' THEN 1 ELSE 0 END) as backorderCount
FROM product_ai_features
WHERE potential_issue IS NOT NULL
GROUP BY potential_issue
ORDER BY count DESC

Hibernate: SELECT
    deck_risk as category,
    COUNT(*) as count,
    SUM(CASE WHEN went_on_backorder = 'Yes' THEN 1 ELSE 0 END) as backorderCount
FROM product_ai_features
WHERE deck_risk IS NOT NULL
GROUP BY deck_risk
ORDER BY count DESC

Hibernate: SELECT
    oe_constraint as category,
    COUNT(*) as count,
    SUM(CASE WHEN went_on_backorder = 'Yes' THEN 1 ELSE 0 END) as backorderCount
FROM product_ai_features
WHERE oe_constraint IS NOT NULL
GROUP BY oe_constraint
ORDER BY count DESC

Hibernate: SELECT
    ppap_risk as category,
    COUNT(*) as count,
    SUM(CASE WHEN went_on_backorder = 'Yes' THEN 1 ELSE 0 END) as backorderCount
FROM product_ai_features
WHERE ppap_risk IS NOT NULL
GROUP BY ppap_risk
ORDER BY count DESC

Hibernate: SELECT
    CASE
        WHEN lead_time < 2 THEN '<2 days'
        WHEN lead_time >= 2 AND lead_time < 4 THEN '2-4 days'
        WHEN lead_time >= 4 AND lead_time < 8 THEN '4-8 days'
        WHEN lead_time >= 8 AND lead_time < 16 THEN '8-16 days'
        ELSE '16+ days'
    END as category,
    COUNT(*) as count,
    SUM(CASE WHEN went_on_backorder = 'Yes' THEN 1 ELSE 0 END) as backorderCount
FROM product_ai_features
WHERE lead_time IS NOT NULL
GROUP BY category
ORDER BY
    CASE category
        WHEN '<2 days' THEN 1
        WHEN '2-4 days' THEN 2
        WHEN '4-8 days' THEN 3
        WHEN '8-16 days' THEN 4
        ELSE 5
    END

Hibernate: SELECT
    CASE
        WHEN national_inv BETWEEN 0 AND 100 THEN 'Low (1-100)'
        WHEN national_inv BETWEEN 101 AND 500 THEN 'Medium (101-500)'
        WHEN national_inv BETWEEN 501 AND 1000 THEN 'High (501-1000)'
        ELSE 'Very High (1000+)'
    END as category,
    COUNT(*) as count,
    SUM(CASE WHEN went_on_backorder = 'Yes' THEN 1 ELSE 0 END) as backorderCount
FROM product_ai_features
WHERE national_inv IS NOT NULL
GROUP BY category
ORDER BY
    CASE category
        WHEN 'Low (1-100)' THEN 1
        WHEN 'Medium (101-500)' THEN 2
        WHEN 'High (501-1000)' THEN 3
        ELSE 4
    END

2026-01-03T19:19:45.537+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-4] k.s.services.AnalyticsService            : ‚úÖ Correlation data loaded from database
2026-01-03T19:19:45.538+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:19:45.538+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{oeConstraintDistribution=[{count=61577, backorderCount=11285, category=No}, {count=12, category=Yes (truncated)...]
2026-01-03T19:19:45.541+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:38.684+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-03T19:20:38.689+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AuthController#login(LoginRequestDTO)
2026-01-03T19:20:38.825+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ktc.spring_project.dtos.auth.LoginRequestDTO@63e8a5fc]
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
Hibernate: select r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at from roles r1_0 where r1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: insert into activity_logs (action_timestamp,action_type,actor_id,metadata,record_id,role_id,status_id,table_name) values (?,?,?,?,?,?,?,?)
2026-01-03T19:20:39.514+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.514+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{user={role=OPERATIONS, fullName=hung, id=11, totpEnabled=false, email=operations@fr.com, username=o (truncated)...]
2026-01-03T19:20:39.515+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.616+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/monthly-revenue", parameters={}
2026-01-03T19:20:39.616+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getMonthlyRevenue()
2026-01-03T19:20:39.616+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/completed-today", parameters={}
2026-01-03T19:20:39.616+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/vehicles/stats/active", parameters={}
2026-01-03T19:20:39.617+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.VehicleController#getActiveVehicleStats()
2026-01-03T19:20:39.617+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/revenue-by-date?date=2026-01-02", parameters={masked}
2026-01-03T19:20:39.617+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getCompletedDeliveriesToday()
2026-01-03T19:20:39.617+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getRevenueByDate(String)
2026-01-03T19:20:39.617+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/revenue-by-date?date=2026-01-03", parameters={masked}
2026-01-03T19:20:39.617+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getRevenueByDate(String)
Hibernate: SELECT
    YEAR(d.actual_delivery_time) as year,
    MONTH(d.actual_delivery_time) as month,
    COALESCE(SUM(d.delivery_fee), 0) as revenue
FROM deliveries d
WHERE d.actual_delivery_time IS NOT NULL
    AND d.actual_delivery_time >= DATE_SUB(CURDATE(), INTERVAL 12 MONTH)
GROUP BY YEAR(d.actual_delivery_time), MONTH(d.actual_delivery_time)
ORDER BY year, month

2026-01-03T19:20:39.618+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/count-by-date", parameters={}
2026-01-03T19:20:39.618+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderCountByDate(String)
Hibernate: select count(v1_0.id) from vehicles v1_0 left join status s1_0 on s1_0.id=v1_0.status_id where s1_0.id=?
Hibernate: SELECT * FROM deliveries WHERE DATE(actual_delivery_time) = ? AND actual_delivery_time IS NOT NULL
Hibernate: select count(o1_0.id) from orders o1_0 where o1_0.created_at between ? and ?
Hibernate: SELECT * FROM deliveries WHERE DATE(actual_delivery_time) = ? AND actual_delivery_time IS NOT NULL
Hibernate: SELECT * FROM deliveries WHERE DATE(actual_delivery_time) = ? AND actual_delivery_time IS NOT NULL
Hibernate: select count(o1_0.id) from orders o1_0 where o1_0.created_at between ? and ?
Hibernate: select count(*) from vehicles v1_0
2026-01-03T19:20:39.624+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.625+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{date=2026-01-03, trend=stable, count=0, changePercent=0.0, previousCount=0}]
2026-01-03T19:20:39.625+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
2026-01-03T19:20:39.637+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.637+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=106, percentage=5, active=5, ratio=5/106}]
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.638+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.646+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/protected/profile", parameters={}
2026-01-03T19:20:39.646+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.ProtectedController#getProfile(Authentication)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at from roles r1_0 where r1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.650+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/count-by-date", parameters={}
2026-01-03T19:20:39.650+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderCountByDate(String)
Hibernate: select count(o1_0.id) from orders o1_0 where o1_0.created_at between ? and ?
Hibernate: select count(o1_0.id) from orders o1_0 where o1_0.created_at between ? and ?
2026-01-03T19:20:39.652+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.653+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Profile data accessed successfully, user=ktc.spring_project.entities.User@17686442, timesta (truncated)...]
2026-01-03T19:20:39.656+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{date=2026-01-03, trend=stable, count=0, changePercent=0.0, previousCount=0}]
2026-01-03T19:20:39.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.664+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/vehicles/stats/active", parameters={}
2026-01-03T19:20:39.664+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.VehicleController#getActiveVehicleStats()
Hibernate: select count(v1_0.id) from vehicles v1_0 left join status s1_0 on s1_0.id=v1_0.status_id where s1_0.id=?
2026-01-03T19:20:39.665+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select count(*) from vehicles v1_0
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
2026-01-03T19:20:39.673+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.673+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=106, percentage=5, active=5, ratio=5/106}]
2026-01-03T19:20:39.673+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.674+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.675+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyRevenue=[{month=2, revenue=1110083250.00, year=2025}, {revenue=4954263750.00, month=3, year= (truncated)...]
2026-01-03T19:20:39.676+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.679+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/protected/profile", parameters={}
2026-01-03T19:20:39.679+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.ProtectedController#getProfile(Authentication)
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
Hibernate: select r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at from roles r1_0 where r1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.690+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.690+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Profile data accessed successfully, user=ktc.spring_project.entities.User@6d2009d8, timesta (truncated)...]
2026-01-03T19:20:39.692+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.697+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/monthly-revenue", parameters={}
2026-01-03T19:20:39.698+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getMonthlyRevenue()
Hibernate: SELECT
    YEAR(d.actual_delivery_time) as year,
    MONTH(d.actual_delivery_time) as month,
    COALESCE(SUM(d.delivery_fee), 0) as revenue
FROM deliveries d
WHERE d.actual_delivery_time IS NOT NULL
    AND d.actual_delivery_time >= DATE_SUB(CURDATE(), INTERVAL 12 MONTH)
GROUP BY YEAR(d.actual_delivery_time), MONTH(d.actual_delivery_time)
ORDER BY year, month

2026-01-03T19:20:39.704+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.704+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-03T19:20:39.705+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.710+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.710+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2026-01-03T19:20:39.711+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
2026-01-03T19:20:39.715+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.715+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
2026-01-03T19:20:39.716+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.719+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/completed-today", parameters={}
2026-01-03T19:20:39.719+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getCompletedDeliveriesToday()
2026-01-03T19:20:39.719+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/revenue-by-date?date=2026-01-02", parameters={masked}
2026-01-03T19:20:39.719+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getRevenueByDate(String)
Hibernate: SELECT * FROM deliveries WHERE DATE(actual_delivery_time) = ? AND actual_delivery_time IS NOT NULL
Hibernate: SELECT * FROM deliveries WHERE DATE(actual_delivery_time) = ? AND actual_delivery_time IS NOT NULL
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:39.725+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/deliveries/revenue-by-date?date=2026-01-03", parameters={masked}
2026-01-03T19:20:39.725+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.DeliveryController#getRevenueByDate(String)
Hibernate: SELECT * FROM deliveries WHERE DATE(actual_delivery_time) = ? AND actual_delivery_time IS NOT NULL
2026-01-03T19:20:39.741+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.742+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{monthlyRevenue=[{month=2, revenue=1110083250.00, year=2025}, {revenue=4954263750.00, month=3, year= (truncated)...]
2026-01-03T19:20:39.743+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.763+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.764+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2026-01-03T19:20:39.764+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.767+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.767+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2026-01-03T19:20:39.768+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:39.771+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:39.771+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2026-01-03T19:20:39.771+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:40.652+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/feature-importance", parameters={}
2026-01-03T19:20:40.652+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/correlation", parameters={}
2026-01-03T19:20:40.652+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/overview", parameters={}
2026-01-03T19:20:40.652+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getFeatureImportance()
2026-01-03T19:20:40.652+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getCorrelation()
2026-01-03T19:20:40.652+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getOverview()
2026-01-03T19:20:40.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:40.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:40.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[{feature=Distance, featureName=Distance (km), insights=[Longer distances correlate with delivery de (truncated)...]
2026-01-03T19:20:40.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:40.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalDeliveries=46053, avgCostPerKm=12500.0, totalDistance=25.0, efficiencyScore=0.0}]
2026-01-03T19:20:40.657+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{oeConstraintDistribution=[{count=61577, backorderCount=11285, category=No}, {count=12, category=Yes (truncated)...]
2026-01-03T19:20:40.658+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:40.658+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:40.658+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:20:40.675+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/correlation", parameters={}
2026-01-03T19:20:40.676+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getCorrelation()
2026-01-03T19:20:40.676+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:40.677+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/overview", parameters={}
2026-01-03T19:20:40.677+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{oeConstraintDistribution=[{count=61577, backorderCount=11285, category=No}, {count=12, category=Yes (truncated)...]
2026-01-03T19:20:40.677+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getOverview()
2026-01-03T19:20:40.677+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/analytics/feature-importance", parameters={}
2026-01-03T19:20:40.677+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AnalyticsController#getFeatureImportance()
2026-01-03T19:20:40.678+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:40.678+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:40.679+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:20:40.679+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[{feature=Distance, featureName=Distance (km), insights=[Longer distances correlate with delivery de (truncated)...]
2026-01-03T19:20:40.679+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalDeliveries=46053, avgCostPerKm=12500.0, totalDistance=25.0, efficiencyScore=0.0}]
2026-01-03T19:20:40.680+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:20:40.680+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:25.417+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/session", parameters={}
2026-01-03T19:24:25.419+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-03T19:24:25.422+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2026-01-03T19:24:25.425+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler ktc.spring_project.exceptions.GlobalExceptionHandler#handleNoResourceFound(NoResourceFoundException, WebRequest)
2026-01-03T19:24:25.425+07:00 ERROR 66626 --- [spring-project] [nio-8080-exec-7] k.s.exceptions.GlobalExceptionHandler    : NoResourceFoundException: No static resource api/auth/session.
2026-01-03T19:24:25.426+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.427+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{path=/api/auth/session, error=Not Found, message=Resource not found: No static resource api/auth/se (truncated)...]
2026-01-03T19:24:25.429+07:00  WARN 66626 --- [spring-project] [nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/session.]
2026-01-03T19:24:25.430+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-03T19:24:25.503+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:25.503+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:25.580+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.587+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:25.594+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:25.604+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:25.604+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
2026-01-03T19:24:25.609+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/_log", parameters={masked}
2026-01-03T19:24:25.610+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-03T19:24:25.611+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2026-01-03T19:24:25.612+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler ktc.spring_project.exceptions.GlobalExceptionHandler#handleNoResourceFound(NoResourceFoundException, WebRequest)
2026-01-03T19:24:25.616+07:00 ERROR 66626 --- [spring-project] [nio-8080-exec-6] k.s.exceptions.GlobalExceptionHandler    : NoResourceFoundException: No static resource api/auth/_log.
2026-01-03T19:24:25.618+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.619+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{path=/api/auth/_log, error=Not Found, message=Resource not found: No static resource api/auth/_log. (truncated)...]
2026-01-03T19:24:25.620+07:00  WARN 66626 --- [spring-project] [nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/_log.]
2026-01-03T19:24:25.620+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:25.668+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.668+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:25.669+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:25.672+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:25.672+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:25.693+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.693+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:25.696+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:25.700+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:25.700+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:25.718+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.718+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:25.718+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:25.720+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:25.720+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:25.740+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.740+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:25.741+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:25.742+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:25.743+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:25.759+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:25.759+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:25.759+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:35.780+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/login", parameters={}
2026-01-03T19:24:35.781+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.AuthController#login(LoginRequestDTO)
2026-01-03T19:24:35.784+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ktc.spring_project.dtos.auth.LoginRequestDTO@223dd7b9]
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.email=?
Hibernate: select r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at from roles r1_0 where r1_0.id=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: insert into activity_logs (action_timestamp,action_type,actor_id,metadata,record_id,role_id,status_id,table_name) values (?,?,?,?,?,?,?,?)
2026-01-03T19:24:36.199+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:36.199+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{user={role=CUSTOMER, fullName=Tran Dat, id=16, totpEnabled=false, email=datran@gmail.com, username= (truncated)...]
2026-01-03T19:24:36.200+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:36.387+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=3", parameters={masked}
2026-01-03T19:24:36.388+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:36.469+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/stores/user/16", parameters={}
2026-01-03T19:24:36.469+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.StoreController#getStoresByUserId(Long)
Hibernate: select s1_0.id,s1_0.address,s1_0.created_at,s1_0.created_by,s1_0.email,s1_0.is_active,s1_0.latitude,s1_0.longitude,s1_0.notes,s1_0.phone,s1_0.store_name,s1_0.updated_at from stores s1_0 where s1_0.created_by=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 join roles r1_0 on r1_0.id=u1_0.role_id left join status s1_0 on s1_0.id=u1_0.status_id where u1_0.id=?
2026-01-03T19:24:36.483+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:36.483+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ktc.spring_project.entities.Store@798cab71]]
2026-01-03T19:24:36.486+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:36.494+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/2/stats", parameters={}
2026-01-03T19:24:36.495+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getUserOrderStats(Long)
Getting order stats for userId: 2, using storeId: 2
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select count(o1_0.id) from orders o1_0 where o1_0.store_id=?
2026-01-03T19:24:36.498+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:36.498+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:36.504+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:36.510+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/stores/user/16", parameters={}
2026-01-03T19:24:36.511+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.StoreController#getStoresByUserId(Long)
2026-01-03T19:24:36.512+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=3", parameters={masked}
Hibernate: select s1_0.id,s1_0.address,s1_0.created_at,s1_0.created_by,s1_0.email,s1_0.is_active,s1_0.latitude,s1_0.longitude,s1_0.notes,s1_0.phone,s1_0.store_name,s1_0.updated_at from stores s1_0 where s1_0.created_by=?
2026-01-03T19:24:36.512+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 join roles r1_0 on r1_0.id=u1_0.role_id left join status s1_0 on s1_0.id=u1_0.status_id where u1_0.id=?
2026-01-03T19:24:36.518+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:36.518+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ktc.spring_project.entities.Store@661fcaa6]]
Hibernate: select count(o1_0.id) from orders o1_0 join status s2_0 on s2_0.id=o1_0.status_id where o1_0.store_id=? and s2_0.name='Processing'
2026-01-03T19:24:36.521+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select count(o1_0.id) from orders o1_0 join status s2_0 on s2_0.id=o1_0.status_id where o1_0.store_id=? and s2_0.name='Completed'
Order stats: total=1760, processing=1066, completed=163
2026-01-03T19:24:36.540+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:36.541+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [OrderStatsDto(totalOrders=1760, processingOrders=1066, completedOrders=163)]
2026-01-03T19:24:36.541+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:36.548+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:36.548+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:36.549+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:36.557+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/2/stats", parameters={}
2026-01-03T19:24:36.558+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getUserOrderStats(Long)
Getting order stats for userId: 2, using storeId: 2
Hibernate: select count(o1_0.id) from orders o1_0 where o1_0.store_id=?
Hibernate: select count(o1_0.id) from orders o1_0 join status s2_0 on s2_0.id=o1_0.status_id where o1_0.store_id=? and s2_0.name='Processing'
Hibernate: select count(o1_0.id) from orders o1_0 join status s2_0 on s2_0.id=o1_0.status_id where o1_0.store_id=? and s2_0.name='Completed'
Order stats: total=1760, processing=1066, completed=163
2026-01-03T19:24:36.567+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:36.567+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [OrderStatsDto(totalOrders=1760, processingOrders=1066, completedOrders=163)]
2026-01-03T19:24:36.568+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:38.596+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:38.597+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:38.645+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:38.646+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:38.646+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:38.648+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:38.651+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:38.670+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:38.670+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:38.670+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:38.672+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:38.672+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:38.696+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:38.696+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:38.697+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:38.699+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:38.699+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:38.720+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:38.720+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:38.721+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:38.722+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:38.723+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:38.740+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:38.740+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:38.741+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:38.744+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:24:38.744+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:38.762+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:38.763+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:24:38.764+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:40.091+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/686", parameters={}
2026-01-03T19:24:40.092+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:40.101+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 686
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:40.114+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:40.114+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@4c390970]
2026-01-03T19:24:40.115+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:40.126+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/686", parameters={}
2026-01-03T19:24:40.126+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:40.127+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-5] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 686
2026-01-03T19:24:40.127+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-5] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 686
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:24:40.148+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:40.148+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@12594b85]
2026-01-03T19:24:40.149+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:45.014+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=2&size=10", parameters={masked}
2026-01-03T19:24:45.014+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:45.050+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:45.051+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=23664, storeId=2, createdAt=2025-08-1 (truncated)...]
2026-01-03T19:24:45.053+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:45.054+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=2&size=10", parameters={masked}
2026-01-03T19:24:45.054+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:45.072+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:45.072+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=23664, storeId=2, createdAt=2025-08-1 (truncated)...]
2026-01-03T19:24:45.073+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:46.251+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/6846", parameters={}
2026-01-03T19:24:46.251+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:46.253+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-3] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 6846
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:46.257+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:46.258+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@43e8ca57]
2026-01-03T19:24:46.258+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:46.273+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/6846", parameters={}
2026-01-03T19:24:46.273+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:46.274+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 6846
2026-01-03T19:24:46.274+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 6846
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
2026-01-03T19:24:46.282+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:46.282+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@4612264b]
2026-01-03T19:24:46.282+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:48.805+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/12452", parameters={}
2026-01-03T19:24:48.805+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:48.806+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-8] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 12452
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:48.808+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:48.808+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@d5dc973]
2026-01-03T19:24:48.808+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:48.820+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/12452", parameters={}
2026-01-03T19:24:48.820+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:48.821+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-9] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 12452
2026-01-03T19:24:48.821+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-9] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 12452
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:24:48.829+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:48.829+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@43804f6c]
2026-01-03T19:24:48.830+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:50.228+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/6198", parameters={}
2026-01-03T19:24:50.229+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:50.230+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-3] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 6198
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:50.233+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:50.233+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@67718bb1]
2026-01-03T19:24:50.234+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:50.248+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/6198", parameters={}
2026-01-03T19:24:50.248+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:50.248+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 6198
2026-01-03T19:24:50.249+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 6198
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:24:50.280+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:50.280+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@798405d9]
2026-01-03T19:24:50.281+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:51.132+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/6846", parameters={}
2026-01-03T19:24:51.133+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:51.134+07:00  INFO 66626 --- [spring-project] [io-8080-exec-10] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 6846
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:51.139+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:51.139+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@2efba345]
2026-01-03T19:24:51.140+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:51.149+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/6846", parameters={}
2026-01-03T19:24:51.149+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:51.150+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-5] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 6846
2026-01-03T19:24:51.150+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-5] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 6846
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
2026-01-03T19:24:51.155+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:51.155+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@6494325a]
2026-01-03T19:24:51.155+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:53.265+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/12452", parameters={}
2026-01-03T19:24:53.265+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:53.265+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-8] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 12452
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:53.271+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:53.271+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@60c962d3]
2026-01-03T19:24:53.272+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:53.284+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/12452", parameters={}
2026-01-03T19:24:53.284+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:53.285+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-2] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 12452
2026-01-03T19:24:53.285+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-2] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 12452
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:24:53.296+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:53.297+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@3f98bac5]
2026-01-03T19:24:53.297+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:54.436+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/6198", parameters={}
2026-01-03T19:24:54.437+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:54.437+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-9] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 6198
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:54.440+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:54.440+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@997613f]
2026-01-03T19:24:54.441+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:54.452+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/6198", parameters={}
2026-01-03T19:24:54.453+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:54.453+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-1] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 6198
2026-01-03T19:24:54.453+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-1] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 6198
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:24:54.463+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:54.463+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@702d1ded]
2026-01-03T19:24:54.463+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:55.548+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=3&size=10", parameters={masked}
2026-01-03T19:24:55.548+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:55.674+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:55.674+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=16313, storeId=2, createdAt=2025-08-1 (truncated)...]
2026-01-03T19:24:55.676+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:55.679+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=3&size=10", parameters={masked}
2026-01-03T19:24:55.681+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:55.757+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:55.757+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=16313, storeId=2, createdAt=2025-08-1 (truncated)...]
2026-01-03T19:24:55.757+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:57.282+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=5&size=10", parameters={masked}
2026-01-03T19:24:57.282+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:57.320+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:57.320+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=9804, storeId=2, createdAt=2025-08-14 (truncated)...]
2026-01-03T19:24:57.321+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:24:57.326+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=5&size=10", parameters={masked}
2026-01-03T19:24:57.326+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:24:57.345+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:57.345+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=9804, storeId=2, createdAt=2025-08-14 (truncated)...]
2026-01-03T19:24:57.346+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:58.321+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/6910", parameters={}
2026-01-03T19:24:58.322+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:58.324+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-2] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 6910
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:58.336+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:58.336+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@141a9fd5]
2026-01-03T19:24:58.338+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:58.371+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/6910", parameters={}
2026-01-03T19:24:58.372+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:58.373+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-9] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 6910
2026-01-03T19:24:58.408+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-9] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 6910
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
2026-01-03T19:24:58.423+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:58.424+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@a5ec73]
2026-01-03T19:24:58.426+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:59.048+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/4622", parameters={}
2026-01-03T19:24:59.049+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:24:59.049+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-3] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 4622
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:24:59.051+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:59.051+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@59adf003]
2026-01-03T19:24:59.052+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:24:59.063+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/4622", parameters={}
2026-01-03T19:24:59.063+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:24:59.063+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 4622
2026-01-03T19:24:59.064+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 4622
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:24:59.073+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:24:59.073+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@65c01d61]
2026-01-03T19:24:59.073+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:25:00.039+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/19536", parameters={}
2026-01-03T19:25:00.039+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:25:00.039+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-5] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 19536
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:25:00.041+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:00.041+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@1f559b09]
2026-01-03T19:25:00.042+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:25:00.053+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/19536", parameters={}
2026-01-03T19:25:00.053+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:25:00.053+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-8] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 19536
2026-01-03T19:25:00.054+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-8] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 19536
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:25:00.062+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:00.062+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@60c803cc]
2026-01-03T19:25:00.062+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:25:04.146+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/by-order/4622", parameters={}
2026-01-03T19:25:04.146+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#getInvoiceByOrderId(Long)
2026-01-03T19:25:04.147+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-3] k.s.controllers.InvoiceController        : L·∫•y h√≥a ƒë∆°n cho order ID: 4622
Hibernate: select ei1_0.id,ei1_0.cancellation_reason,ei1_0.cancelled_at,ei1_0.cancelled_by,ei1_0.created_at,ei1_0.created_by,ei1_0.customer_email,ei1_0.customer_name,ei1_0.delivery_id,ei1_0.email_sent_at,ei1_0.invoice_number,ei1_0.invoice_status,ei1_0.issued_at,ei1_0.net_amount,ei1_0.notes,ei1_0.order_id,ei1_0.pdf_file_name,ei1_0.pdf_file_path,ei1_0.tax_amount,ei1_0.total_amount,ei1_0.updated_at from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=?
2026-01-03T19:25:04.149+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:04.149+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@1852c510]
2026-01-03T19:25:04.150+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
Hibernate: select u1_0.id,u1_0.created_at,u1_0.email,u1_0.full_name,u1_0.google_id,u1_0.notes,u1_0.password,u1_0.phone,u1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,u1_0.status_id,u1_0.totp_enabled,u1_0.totp_secret,u1_0.updated_at,u1_0.username from users u1_0 left join roles r1_0 on r1_0.id=u1_0.role_id where u1_0.username=?
Hibernate: select s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at from status s1_0 where s1_0.id=?
2026-01-03T19:25:04.159+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/invoices/check-eligibility/4622", parameters={}
2026-01-03T19:25:04.159+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.InvoiceController#checkInvoiceEligibility(Long)
2026-01-03T19:25:04.159+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.controllers.InvoiceController        : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order 4622
2026-01-03T19:25:04.159+07:00  INFO 66626 --- [spring-project] [nio-8080-exec-7] k.s.services.InvoiceService              : Ki·ªÉm tra ƒëi·ªÅu ki·ªán xu·∫•t h√≥a ƒë∆°n cho order ID: 4622
Hibernate: select o1_0.id,a1_0.id,a1_0.address,a1_0.address_type,a1_0.city,a1_0.contact_email,a1_0.contact_name,a1_0.contact_phone,a1_0.country,a1_0.created_at,a1_0.floor_number,a1_0.latitude,a1_0.longitude,a1_0.postal_code,a1_0.region,a1_0.state,a1_0.updated_at,o1_0.benefit_per_order,o1_0.created_at,cb1_0.id,cb1_0.created_at,cb1_0.email,cb1_0.full_name,cb1_0.google_id,cb1_0.notes,cb1_0.password,cb1_0.phone,cb1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cb1_0.totp_enabled,cb1_0.totp_secret,cb1_0.updated_at,cb1_0.username,o1_0.description,d1_0.id,d1_0.created_at,d1_0.email,d1_0.full_name,d1_0.google_id,d1_0.notes,d1_0.password,d1_0.phone,d1_0.role_id,r2_0.id,r2_0.created_at,r2_0.description,r2_0.is_active,r2_0.permission,r2_0.role_name,r2_0.updated_at,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,d1_0.totp_enabled,d1_0.totp_secret,d1_0.updated_at,d1_0.username,o1_0.notes,o1_0.order_code,o1_0.order_profit_per_order,s3_0.id,s3_0.created_at,s3_0.description,s3_0.name,s3_0.type,s3_0.updated_at,s4_0.id,s4_0.address,s4_0.created_at,cb2_0.id,cb2_0.created_at,cb2_0.email,cb2_0.full_name,cb2_0.google_id,cb2_0.notes,cb2_0.password,cb2_0.phone,cb2_0.role_id,cb2_0.status_id,cb2_0.totp_enabled,cb2_0.totp_secret,cb2_0.updated_at,cb2_0.username,s4_0.email,s4_0.is_active,s4_0.latitude,s4_0.longitude,s4_0.notes,s4_0.phone,s4_0.store_name,s4_0.updated_at,o1_0.total_amount,o1_0.updated_at,v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,cd1_0.status_id,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s7_0.id,s7_0.created_at,s7_0.description,s7_0.name,s7_0.type,s7_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from orders o1_0 left join addresses a1_0 on a1_0.id=o1_0.address_id left join users cb1_0 on cb1_0.id=o1_0.created_by left join roles r1_0 on r1_0.id=cb1_0.role_id left join status s1_0 on s1_0.id=cb1_0.status_id left join users d1_0 on d1_0.id=o1_0.driver_id left join roles r2_0 on r2_0.id=d1_0.role_id left join status s2_0 on s2_0.id=d1_0.status_id left join status s3_0 on s3_0.id=o1_0.status_id left join stores s4_0 on s4_0.id=o1_0.store_id left join users cb2_0 on cb2_0.id=s4_0.created_by left join vehicles v1_0 on v1_0.id=o1_0.vehicle_id left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join status s7_0 on s7_0.id=v1_0.status_id where o1_0.id=?
Hibernate: select ei1_0.id from electronic_invoices ei1_0 left join orders o1_0 on o1_0.id=ei1_0.order_id where o1_0.id=? limit ?
Hibernate: select d1_0.id,d1_0.actual_delivery_time,d1_0.created_at,d1_0.delivery_attempts,d1_0.delivery_fee,d1_0.driver_id,d1_0.late_delivery_risk,d1_0.delivery_notes,d1_0.order_id,d1_0.order_date,d1_0.pickup_date,d1_0.route_id,d1_0.schedule_delivery_time,d1_0.service_type,d1_0.status_id,d1_0.transport_mode,d1_0.updated_at,d1_0.vehicle_id from deliveries d1_0 left join orders o1_0 on o1_0.id=d1_0.order_id where o1_0.id=?
Hibernate: select v1_0.id,v1_0.capacity_volume_m3,v1_0.capacity_weight_kg,v1_0.created_at,cd1_0.id,cd1_0.created_at,cd1_0.email,cd1_0.full_name,cd1_0.google_id,cd1_0.notes,cd1_0.password,cd1_0.phone,cd1_0.role_id,r1_0.id,r1_0.created_at,r1_0.description,r1_0.is_active,r1_0.permission,r1_0.role_name,r1_0.updated_at,s1_0.id,s1_0.created_at,s1_0.description,s1_0.name,s1_0.type,s1_0.updated_at,cd1_0.totp_enabled,cd1_0.totp_secret,cd1_0.updated_at,cd1_0.username,v1_0.license_plate,v1_0.model,v1_0.notes,v1_0.status_id,s2_0.id,s2_0.created_at,s2_0.description,s2_0.name,s2_0.type,s2_0.updated_at,v1_0.updated_at,v1_0.vehicle_type from vehicles v1_0 left join users cd1_0 on cd1_0.id=v1_0.current_driver_id left join roles r1_0 on r1_0.id=cd1_0.role_id left join status s1_0 on s1_0.id=cd1_0.status_id join status s2_0 on s2_0.id=v1_0.status_id where v1_0.id=?
2026-01-03T19:25:04.166+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:04.166+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ktc.spring_project.dtos.common.ApiResponse@36cb01a4]
2026-01-03T19:25:04.167+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:16.185+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=6&size=10", parameters={masked}
2026-01-03T19:25:16.185+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:16.218+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:16.218+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=9139, storeId=2, createdAt=2025-08-13 (truncated)...]
2026-01-03T19:25:16.219+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:16.220+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=6&size=10", parameters={masked}
2026-01-03T19:25:16.220+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:16.240+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:16.240+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=9139, storeId=2, createdAt=2025-08-13 (truncated)...]
2026-01-03T19:25:16.241+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:16.867+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=7&size=10", parameters={masked}
2026-01-03T19:25:16.867+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:16.905+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:16.906+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=4364, storeId=2, createdAt=2025-08-12 (truncated)...]
2026-01-03T19:25:16.906+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:16.908+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=7&size=10", parameters={masked}
2026-01-03T19:25:16.908+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:16.928+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:16.928+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=4364, storeId=2, createdAt=2025-08-12 (truncated)...]
2026-01-03T19:25:16.928+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:17.520+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=8&size=10", parameters={masked}
2026-01-03T19:25:17.520+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:17.566+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:17.566+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=8821, storeId=2, createdAt=2025-08-11 (truncated)...]
2026-01-03T19:25:17.567+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:17.568+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=8&size=10", parameters={masked}
2026-01-03T19:25:17.569+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:17.590+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:17.590+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=8821, storeId=2, createdAt=2025-08-11 (truncated)...]
2026-01-03T19:25:17.590+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:17.961+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=10&size=10", parameters={masked}
2026-01-03T19:25:17.961+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:17.994+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:17.994+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=25613, storeId=2, createdAt=2025-08-1 (truncated)...]
2026-01-03T19:25:17.995+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:17.996+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=10&size=10", parameters={masked}
2026-01-03T19:25:17.997+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:18.017+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:18.017+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=25613, storeId=2, createdAt=2025-08-1 (truncated)...]
2026-01-03T19:25:18.017+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:18.703+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=11&size=10", parameters={masked}
2026-01-03T19:25:18.704+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:18.741+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:18.741+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=21894, storeId=2, createdAt=2025-08-0 (truncated)...]
2026-01-03T19:25:18.742+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:18.743+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=11&size=10", parameters={masked}
2026-01-03T19:25:18.743+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:18.768+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:18.768+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=21894, storeId=2, createdAt=2025-08-0 (truncated)...]
2026-01-03T19:25:18.768+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:19.390+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=12&size=10", parameters={masked}
2026-01-03T19:25:19.390+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:19.430+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:19.430+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=33, storeId=2, createdAt=2025-08-07 2 (truncated)...]
2026-01-03T19:25:19.430+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:19.432+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=12&size=10", parameters={masked}
2026-01-03T19:25:19.432+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:19.454+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:19.455+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=33, storeId=2, createdAt=2025-08-07 2 (truncated)...]
2026-01-03T19:25:19.455+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:20.308+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=13&size=10", parameters={masked}
2026-01-03T19:25:20.308+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:20.350+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:20.350+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=6638, storeId=2, createdAt=2025-08-07 (truncated)...]
2026-01-03T19:25:20.351+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:20.352+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=13&size=10", parameters={masked}
2026-01-03T19:25:20.353+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:20.376+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:20.377+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=6638, storeId=2, createdAt=2025-08-07 (truncated)...]
2026-01-03T19:25:20.377+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:20.691+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=15&size=10", parameters={masked}
2026-01-03T19:25:20.691+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:20.729+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:20.729+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=6261, storeId=2, createdAt=2025-08-05 (truncated)...]
2026-01-03T19:25:20.730+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:20.733+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=15&size=10", parameters={masked}
2026-01-03T19:25:20.734+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?,?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:20.753+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:20.753+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=6261, storeId=2, createdAt=2025-08-05 (truncated)...]
2026-01-03T19:25:20.753+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:22.466+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:25:22.467+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:22.503+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:22.503+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:25:22.503+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:25:22.506+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:25:22.506+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:25:22.523+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:25:22.523+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:25:22.523+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:26:06.466+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/session", parameters={}
2026-01-03T19:26:06.470+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-03T19:26:06.474+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2026-01-03T19:26:06.475+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler ktc.spring_project.exceptions.GlobalExceptionHandler#handleNoResourceFound(NoResourceFoundException, WebRequest)
2026-01-03T19:26:06.475+07:00 ERROR 66626 --- [spring-project] [nio-8080-exec-1] k.s.exceptions.GlobalExceptionHandler    : NoResourceFoundException: No static resource api/auth/session.
2026-01-03T19:26:06.476+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.476+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{path=/api/auth/session, error=Not Found, message=Resource not found: No static resource api/auth/se (truncated)...]
2026-01-03T19:26:06.477+07:00  WARN 66626 --- [spring-project] [nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/session.]
2026-01-03T19:26:06.477+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-03T19:26:06.546+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/_log", parameters={masked}
2026-01-03T19:26:06.546+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2026-01-03T19:26:06.547+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2026-01-03T19:26:06.547+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler ktc.spring_project.exceptions.GlobalExceptionHandler#handleNoResourceFound(NoResourceFoundException, WebRequest)
2026-01-03T19:26:06.547+07:00 ERROR 66626 --- [spring-project] [nio-8080-exec-9] k.s.exceptions.GlobalExceptionHandler    : NoResourceFoundException: No static resource api/auth/_log.
2026-01-03T19:26:06.547+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.547+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{path=/api/auth/_log, error=Not Found, message=Resource not found: No static resource api/auth/_log. (truncated)...]
2026-01-03T19:26:06.548+07:00  WARN 66626 --- [spring-project] [nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/_log.]
2026-01-03T19:26:06.548+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2026-01-03T19:26:06.598+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:26:06.598+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:26:06.643+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.643+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:26:06.643+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:26:06.645+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:26:06.645+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:26:06.684+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.684+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:26:06.686+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:26:06.688+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:26:06.688+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:26:06.706+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.706+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:26:06.706+07:00 DEBUG 66626 --- [spring-project] [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:26:06.710+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:26:06.710+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:26:06.729+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.729+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:26:06.729+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:26:06.747+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:26:06.747+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:26:06.766+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.766+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:26:06.766+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-03T19:26:06.768+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/orders/user/16/summary/paginated?page=1&size=10", parameters={masked}
2026-01-03T19:26:06.768+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to ktc.spring_project.controllers.OrderController#getOrderSummariesByUserPaginated(Long, int, int)
Hibernate: select distinct o1_0.id,s1_0.id,o1_0.created_at,a1_0.address,(select count(oi1_0.id) from order_items oi1_0 where oi1_0.order_id=o1_0.id),(select max(d1_0.delivery_fee) from deliveries d1_0 where d1_0.order_id=o1_0.id),s2_0.name from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id join addresses a1_0 on a1_0.id=o1_0.address_id join status s2_0 on s2_0.id=o1_0.status_id where s1_0.created_by=? order by o1_0.created_at desc,o1_0.created_at desc limit ?
Hibernate: select count(distinct o1_0.id) from orders o1_0 join stores s1_0 on s1_0.id=o1_0.store_id where s1_0.created_by=?
2026-01-03T19:26:06.784+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-03T19:26:06.784+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaginatedOrderSummaryResponseDto(data=[OrderSummaryDTO(orderId=65827, storeId=2, createdAt=2025-12-2 (truncated)...]
2026-01-03T19:26:06.785+07:00 DEBUG 66626 --- [spring-project] [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK

> Task :bootRun FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':bootRun'.
> Process 'command '/Users/mac/Library/Java/JavaVirtualMachines/ms-21.0.7/Contents/Home/bin/java'' finished with non-zero exit value 137

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to get full insights.
> Get more help at https://help.gradle.org.

BUILD FAILED in 7m 3s
4 actionable tasks: 2 executed, 2 up-to-date
